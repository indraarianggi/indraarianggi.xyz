import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.7in8nkh5.js";import{c as f}from"./utils.CBfrqCZ4.js";function v(){const[c,i]=n.useState([]),[a,m]=n.useState(""),l=n.useCallback(()=>Array.from(document.querySelectorAll("h1, h2, h3")).filter(e=>e.id).map(e=>({id:e.id,title:e.textContent||"",level:Number(e.tagName.toLowerCase().replace("h",""))})),[]);n.useEffect(()=>{const e=l();i(e);const o=new IntersectionObserver(s=>{s.forEach(t=>{t.isIntersecting&&m(t.target.id)})},{rootMargin:"0px 0px -80% 0px",threshold:.1});return e.forEach(s=>{const t=document.getElementById(s.id);t&&o.observe(t)}),()=>{e.forEach(s=>{const t=document.getElementById(s.id);t&&o.unobserve(t)})}},[l]);const d=e=>{const o=document.getElementById(e);if(o){const s=o.offsetTop-100;window.scrollTo({top:s,behavior:"smooth"})}};return c.length===0?null:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"mb-3 font-medium",children:"Table of Contents"}),r.jsx("nav",{className:"space-y-1 text-sm",children:c.map(e=>r.jsx("a",{href:`#${e.id}`,className:f("hover:text-secondary block py-1 transition-colors",e.level===3&&"pl-4",a===e.id?"text-secondary font-medium":"text-muted-foreground"),onClick:o=>{o.preventDefault(),d(e.id)},children:e.title},e.id))})]})}export{v as TableOfContents};
